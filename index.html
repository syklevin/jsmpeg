<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
	<title>JSMpeg Stream Client</title>
	<style type="text/css">
		html, body {
			background-color: #111;
			text-align: center;
		}
	</style>
</head>
<body>
	<canvas id="video-canvas"></canvas>
	<script type="text/javascript" src="dist/mpts.js"></script>
	<script type="text/javascript">

		var qsParams = (function() {
			var s = window.document.location.search;
			return (!s && {}) || s.replace(/^.*(\?)/,'').split("&").map(function(n){
				return n = n.split("="),this[n[0]] = n[1],this
			}.bind({}))[0];
		})();

		var streamDomain = qsParams['domain'] || document.location.host

		var canvas = document.getElementById('video-canvas');
		var url = 'ws://' + streamDomain + '/mpts?app=helios&stream=ba1&sid=123456'
		var url2 = 'ws://' + streamDomain + '/mpts?app=helios&stream=ba2&sid=123456'
		var player = new mpts.Player(url, {canvas: canvas});

		setTimeout(function(){
			player.switch(url2)
		}, 10000);

	</script>
</body>
</html>
